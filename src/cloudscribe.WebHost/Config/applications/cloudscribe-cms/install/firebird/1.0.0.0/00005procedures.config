SET TERM ^ ;
ALTER PROCEDURE MP_MODULEDEFINITIONSETTINGS_INS (
    MODULEDEFID Integer,
    SETTINGNAME Varchar(50),
    SETTINGVALUE Varchar(255),
    CONTROLTYPE Varchar(50),
    REGEXVALEXPRESSION Blob sub_type 1,
    FEATUREGUID Char(36),
    RESOURCEFILE Varchar(255),
    CONTROLSRC Varchar(255),
    HELPKEY Varchar(255),
    SORTORDER Integer,
  GROUPNAME varchar(255)	)
RETURNS (
    ID Integer )
AS
BEGIN
 ID = NEXT VALUE FOR mp_ModuleDefinitionSettings_seq;

INSERT INTO 	MP_MODULEDEFINITIONSETTINGS
(				
                ID,
                MODULEDEFID,
                SETTINGNAME,
                SETTINGVALUE,
                CONTROLTYPE,
                REGEXVALIDATIONEXPRESSION,
                FEATUREGUID,
                RESOURCEFILE,
                CONTROLSRC,
                HELPKEY,
                SORTORDER,
				GROUPNAME
) 
VALUES 
(				
               :ID,
               :MODULEDEFID,
               :SETTINGNAME,
               :SETTINGVALUE,
               :CONTROLTYPE,
               :REGEXVALEXPRESSION,
               :FEATUREGUID,
               :RESOURCEFILE,
               :CONTROLSRC,
               :HELPKEY,
               :SORTORDER,
			   :GROUPNAME
);

END^
SET TERM ; ^

GRANT EXECUTE
 ON PROCEDURE MP_MODULEDEFINITIONSETTINGS_INS TO SYSDBA;


SET TERM ^ ;
ALTER PROCEDURE MP_MODULEDEFINITIONS_INSERT (
    FEATURENAME Varchar(255),
    CONTROLSRC Varchar(255),
    SORTORDER Integer,
    ISADMIN Smallint,
    ICON Varchar(255),
    DEFAULTCACHETIME Integer,
    GUID Char(36),
    RESOURCEFILE Varchar(255),
    ISCACHEABLE smallint,
    ISSEARCHABLE smallint,
    SEARCHLISTNAME varchar(255),
    SUPPORTSPAGEREUSE smallint,
    DELETEPROVIDER varchar(255),
    PARTIALVIEW varchar(255) )
RETURNS (
    MODULEDEFID Integer )
AS
BEGIN
 MODULEDEFID = NEXT VALUE FOR mp_ModuleDefinitions_seq;

INSERT INTO 	MP_MODULEDEFINITIONS
(				
                MODULEDEFID,
                FEATURENAME,
                CONTROLSRC,
                SORTORDER,
                ISADMIN,
                ICON,
                DEFAULTCACHETIME,
                GUID,
                IsCacheable,
                IsSearchable,
                SearchListName,
				SupportsPageReuse,
				DeleteProvider,
                RESOURCEFILE,
				PartialView
) 
VALUES 
(				
               :MODULEDEFID,
               :FEATURENAME,
               :CONTROLSRC,
               :SORTORDER,
               :ISADMIN,
               :ICON,
               :DEFAULTCACHETIME,
               :GUID,
               :IsCacheable,
               :IsSearchable,
               :SearchListName,
			   :SupportsPageReuse,
			   :DeleteProvider,
               :RESOURCEFILE,
			   :PartialView
);

END^
SET TERM ; ^

GRANT EXECUTE
 ON PROCEDURE MP_MODULEDEFINITIONS_INSERT TO SYSDBA;


SET TERM ^ ;
ALTER PROCEDURE MP_MODULESETTINGS_INSERT (
    MODULEID Integer,
    SETTINGNAME Varchar(50),
    SETTINGVALUE Varchar(255),
    CONTROLTYPE Varchar(50),
    REGEXVALIDATIONEXPRESSION Blob sub_type 1,
    SETTINGGUID Char(36),
    MODULEGUID Char(36),
    CONTROLSRC Varchar(255),
    HELPKEY Varchar(255),
    SORTORDER Integer )
RETURNS (
    ID Integer )
AS
BEGIN
 ID = NEXT VALUE FOR mp_ModuleSettings_seq;

INSERT INTO 	MP_MODULESETTINGS
(				
                ID,
                MODULEID,
                SETTINGNAME,
                SETTINGVALUE,
                CONTROLTYPE,
                REGEXVALIDATIONEXPRESSION,
		SETTINGGUID,
                MODULEGUID,
                CONTROLSRC,
                HELPKEY,
                SORTORDER
) 
VALUES 
(				
               :ID,
               :MODULEID,
               :SETTINGNAME,
               :SETTINGVALUE,
               :CONTROLTYPE,
               :REGEXVALIDATIONEXPRESSION,
	      :SETTINGGUID,
               :MODULEGUID,
               :CONTROLSRC,
               :HELPKEY,
               :SORTORDER
);

END^
SET TERM ; ^

GRANT EXECUTE
 ON PROCEDURE MP_MODULESETTINGS_INSERT TO SYSDBA;


SET TERM ^ ;
ALTER PROCEDURE MP_MODULES_INSERT (
    SITEID Integer,
    MODULEDEFID Integer,
    MODULETITLE Varchar(255),
    AUTHORIZEDEDITROLES Blob sub_type 1,
    CACHETIME Integer,
    SHOWTITLE Smallint,
    EDITUSERID Integer,
    AVAILABLEFORMYPAGE Smallint,
    ALLOWMULTIPLEINSTANCESONMYPAGE Smallint,
    ICON Varchar(255),
    CREATEDBYUSERID Integer,
    CREATEDDATE Timestamp,
    COUNTOFUSEONMYPAGE Integer,
    GUID Char(36),
    FEATUREGUID Char(36),
    SITEGUID Char(36),
    HIDEFROMAUTH Smallint,
    HIDEFROMUNAUTH Smallint,
    VIEWROLES blob sub_type 1,
    DRAFTEDITROLES blob sub_type 1,
    DRAFTAPPROVALROLES blob sub_type 1,
    HEADELEMENT varchar(25),
    PUBLISHMODE integer	)
RETURNS (
    MODULEID Integer )
AS
BEGIN
 MODULEID = NEXT VALUE FOR mp_Modules_seq;

INSERT INTO 	MP_MODULES
(				
                MODULEID,
                SITEID,
                MODULEDEFID,
                MODULETITLE,
                AUTHORIZEDEDITROLES,
                CACHETIME,
                SHOWTITLE,
                EDITUSERID,
                AVAILABLEFORMYPAGE,
                ALLOWMULTIPLEINSTANCESONMYPAGE,
                ICON,
                CREATEDBYUSERID,
                CREATEDDATE,
                COUNTOFUSEONMYPAGE,
		GUID,
		FEATUREGUID,
                SITEGUID,
                HIDEFROMAUTH,
                HIDEFROMUNAUTH,
                VIEWROLES,
                DRAFTEDITROLES,
				DraftApprovalRoles,
				IncludeInSearch,
				IsGlobal,
				HeadElement,
				PublishMode
) 
VALUES 
(				
               :MODULEID,
               :SITEID,
               :MODULEDEFID,
               :MODULETITLE,
               :AUTHORIZEDEDITROLES,
               :CACHETIME,
               :SHOWTITLE,
               :EDITUSERID,
               :AVAILABLEFORMYPAGE,
               :ALLOWMULTIPLEINSTANCESONMYPAGE,
               :ICON,
               :CREATEDBYUSERID,
               :CREATEDDATE,
               :COUNTOFUSEONMYPAGE,
	      :GUID,
	      :FEATUREGUID,
               :SITEGUID,
               :HIDEFROMAUTH,
               :HIDEFROMUNAUTH,
                :VIEWROLES,
                :DRAFTEDITROLES,
				:DraftApprovalRoles,
				1,
				0,
				:HeadElement,
				:PublishMode
);

END^
SET TERM ; ^

GRANT EXECUTE
 ON PROCEDURE MP_MODULES_INSERT TO SYSDBA;


SET TERM ^ ;
ALTER PROCEDURE MP_PAGES_INSERT (
    PARENTID integer,
    PAGEORDER integer,
    SITEID integer,
    PAGENAME varchar(255),
    PAGETITLE varchar(255),
    AUTHORIZEDROLES blob sub_type 1,
    EDITROLES blob sub_type 1,
    CREATECHILDPAGEROLES blob sub_type 1,
    CREATECHILDDRAFTROLES blob sub_type 1,
    REQUIRESSL smallint,
    ALLOWBROWSERCACHE smallint,
    SHOWBREADCRUMBS smallint,
    PAGEKEYWORDS varchar(1000),
    PAGEDESCRIPTION varchar(255),
    PAGEENCODING varchar(255),
    ADDITIONALMETATAGS varchar(255),
    MENUIMAGE varchar(50),
    USEURL smallint,
    URL varchar(255),
    OPENINNEWWINDOW smallint,
    SHOWCHILDPAGEMENU smallint,
    SHOWCHILDBREADCRUMBS smallint,
    SKIN varchar(100),
    HIDEMAINMENU smallint,
    INCLUDEINMENU smallint,
    CHANGEFREQUENCY varchar(50),
    SITEMAPPRIORITY varchar(50),
    LASTMODIFIEDUTC timestamp,
    PAGEGUID char(36),
    PARENTGUID char(36),
    HIDEAFTERLOGIN smallint,
    SITEGUID char(36),
    COMPILEDMETA blob sub_type 1,
    COMPILEDMETAUTC timestamp,
    INCLUDEINSITEMAP smallint,
    ISCLICKABLE smallint,
    SHOWHOMECRUMB smallint,
    DRAFTEDITROLES blob sub_type 1,
    ISPENDING smallint,
    CANONICALOVERRIDE varchar(255),
    INCLUDEINSEARCHMAP smallint,
    ENABLECOMMENTS smallint,
    INCLUDEINCHILDSITEMAP smallint,
    EXPANDONSITEMAP smallint,
    PUBTEAMID char(36),
    BODYCSSCLASS varchar(50),
    MENUCSSCLASS varchar(50),
    PUBLISHMODE integer,
    PCREATEDUTC timestamp,
    PCREATEDBY char(36),
    PCREATEDFROMIP varchar(36),
    PLASTMODUTC timestamp,
    PLASTMODBY char(36),
    PLASTMODFROMIP varchar(36),
    MENUDESC blob sub_type 1,
    DRAFTAPPROVALROLES blob sub_type 1,
    LINKREL varchar(20),
    PAGEHEADING varchar(255),
    SHOWPAGEHEADING integer,
    PUBDATEUTC timestamp )
RETURNS (
    PAGEID Integer )
AS
BEGIN
 PAGEID = NEXT VALUE FOR mp_Pages_seq;

INSERT INTO 	MP_PAGES
(				
                PAGEID,
                PARENTID,
                PAGEORDER,
                SITEID,
                PAGENAME,
                PAGETITLE,
                AUTHORIZEDROLES,
                EDITROLES,
                CREATECHILDPAGEROLES,
				CREATECHILDDRAFTROLES,
				DraftApprovalRoles,
                REQUIRESSL,
                ALLOWBROWSERCACHE,
                SHOWBREADCRUMBS,
                PAGEKEYWORDS,
                PAGEDESCRIPTION,
                PAGEENCODING,
                ADDITIONALMETATAGS,
                MENUIMAGE,
                USEURL,
                URL,
                OPENINNEWWINDOW,
                SHOWCHILDPAGEMENU,
                SHOWCHILDBREADCRUMBS,
                SKIN,
                HIDEMAINMENU,
                INCLUDEINMENU,
                CHANGEFREQUENCY,
                SITEMAPPRIORITY,
                LASTMODIFIEDUTC,
                PAGEGUID,
                PARENTGUID,
                HIDEAFTERLOGIN,
		SITEGUID,
		COMPILEDMETA,
                COMPILEDMETAUTC,
            IncludeInSiteMap,
            IsClickable,
            ShowHomeCrumb,
            DRAFTEDITROLES,
            ISPENDING,
            CanonicalOverride,
            IncludeInSearchMap,
			ENABLECOMMENTS,
			IncludeInChildSiteMap,
			PubTeamId,
			BODYCSSCLASS,
			MENUCSSCLASS,
			EXPANDONSITEMAP,
			PublishMode,
			PCreatedUtc,
			PCreatedBy,
			PCreatedFromIp,
			PLastModUtc,
			PLastModBy,
			PLastModFromIp,
			MenuDesc,
			LinkRel,
			PageHeading,
			ShowPageHeading,
			PubDateUtc
) 
VALUES 
(				
               :PAGEID,
               :PARENTID,
               :PAGEORDER,
               :SITEID,
               :PAGENAME,
               :PAGETITLE,
               :AUTHORIZEDROLES,
               :EDITROLES,
               :CREATECHILDPAGEROLES,
			   :CREATECHILDDRAFTROLES,
			   :DraftApprovalRoles,
               :REQUIRESSL,
               :ALLOWBROWSERCACHE,
               :SHOWBREADCRUMBS,
               :PAGEKEYWORDS,
               :PAGEDESCRIPTION,
               :PAGEENCODING,
               :ADDITIONALMETATAGS,
               :MENUIMAGE,
               :USEURL,
               :URL,
               :OPENINNEWWINDOW,
               :SHOWCHILDPAGEMENU,
               :SHOWCHILDBREADCRUMBS,
               :SKIN,
               :HIDEMAINMENU,
               :INCLUDEINMENU,
               :CHANGEFREQUENCY,
                :SITEMAPPRIORITY,
                :LASTMODIFIEDUTC,
                :PAGEGUID,
                :PARENTGUID,
                :HIDEAFTERLOGIN,
	       :SITEGUID,
	       :COMPILEDMETA,
               :COMPILEDMETAUTC,
                :IncludeInSiteMap,
                :IsClickable,
                :ShowHomeCrumb,
                :DRAFTEDITROLES,
                :ISPENDING,
                :CanonicalOverride,
                :IncludeInSearchMap,
				:ENABLECOMMENTS,
				:IncludeInChildSiteMap,
				:PubTeamId,
				:BODYCSSCLASS,
				:MENUCSSCLASS,
				:EXPANDONSITEMAP,
				:PublishMode,
				:PCreatedUtc,
				:PCreatedBy,
				:PCreatedFromIp,
				:PLastModUtc,
				:PLastModBy,
				:PLastModFromIp,
				:MenuDesc,
				:LinkRel,
				:PageHeading,
				:ShowPageHeading,
				:PubDateUtc
);

END^
SET TERM ; ^

GRANT EXECUTE
 ON PROCEDURE MP_PAGES_INSERT TO SYSDBA;


GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_CONTENTRATING TO SYSDBA WITH GRANT OPTION;


GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_MODULEDEFINITIONS TO SYSDBA WITH GRANT OPTION;

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_MODULEDEFINITIONSETTINGS TO SYSDBA WITH GRANT OPTION;

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_MODULES TO SYSDBA WITH GRANT OPTION;

ALTER TABLE MP_MODULESETTINGS ADD CONSTRAINT FK_MODULESET_MODULES
  FOREIGN KEY (MODULEID) REFERENCES MP_MODULES (MODULEID);
CREATE INDEX IDX_MODULESET_MODULEID ON MP_MODULESETTINGS (MODULEID);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_MODULESETTINGS TO SYSDBA WITH GRANT OPTION;

ALTER TABLE MP_PAGEMODULES ADD CONSTRAINT FK_PAGEMODULES_MODULES
  FOREIGN KEY (MODULEID) REFERENCES MP_MODULES (MODULEID);
ALTER TABLE MP_PAGEMODULES ADD CONSTRAINT FK_PAGEMODULES_PAGES
  FOREIGN KEY (PAGEID) REFERENCES MP_PAGES (PAGEID);
CREATE INDEX IDX_PAGEMODULES_MODULEID ON MP_PAGEMODULES (MODULEID);
CREATE INDEX IDX_PAGEMODULES_PAGEID ON MP_PAGEMODULES (PAGEID);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_PAGEMODULES TO SYSDBA WITH GRANT OPTION;

ALTER TABLE MP_PAGES ADD CONSTRAINT FK_PAGES_SITES
  FOREIGN KEY (SITEID) REFERENCES MP_SITES (SITEID);
CREATE INDEX IDX_PAGES_SITEID ON MP_PAGES (SITEID);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_PAGES TO SYSDBA WITH GRANT OPTION;



ALTER TABLE MP_SITEMODULEDEFINITIONS ADD CONSTRAINT FK_SITEMODULEDEFS_SITE
  FOREIGN KEY (SITEID) REFERENCES MP_SITES (SITEID);
CREATE INDEX IDX_SITEMODULEDEFS_SITEID ON MP_SITEMODULEDEFINITIONS (SITEID);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON MP_SITEMODULEDEFINITIONS TO SYSDBA WITH GRANT OPTION;

 

